<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Intro Page</title>
<style>
  body {
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background-color: #000;
    overflow: hidden;
    cursor: url('img/curseur.png'), auto;
  }
  
  video {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    opacity: 1;
    transition: opacity 1s ease;
    z-index: 1;
  }
  
  #introVideo {
    z-index: 2;
  }
  
  #transitionVideo {
    z-index: 3;
    display: none;
    animation: fadeIn 1s ease forwards;
  }
  
  @keyframes fadeIn {
    to {
      opacity: 1;
      display: block;
    }
  }
  
  @keyframes fadeOut {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
      display: none;
    }
  }
</style>
<script>
  let introVideoElement;
  let transitionVideoElement;
  
  function playTransition() {
    introVideoElement.pause();
    introVideoElement.style.display = "none";
    
    transitionVideoElement.style.display = "block";
    transitionVideoElement.play();
    introVideoElement.classList.add("fadeOut");
  }
  
  function redirectToIndex() {
    window.location.href = "index.html";
  }
  
  window.onload = function() {
    introVideoElement = document.querySelector("#introVideo");
    transitionVideoElement = document.querySelector("#transitionVideo");
    
    introVideoElement.src = "img/intro.mp4";
    introVideoElement.autoplay = true;
    introVideoElement.loop = true;
    
    transitionVideoElement.src = "img/transition.mp4";
    transitionVideoElement.addEventListener("ended", function() {
      redirectToIndex();
    });
    
    const preloadedVideos = [introVideoElement, transitionVideoElement];

preloadedVideos.forEach(video => {
  video.load();
  video.addEventListener("loadeddata", () => {
    console.log(`Video ${video.id} preloaded.`);
  });
});
    introVideoElement.addEventListener("click", function() {
      playTransition();
    });
  };
</script>
</head>
<body>
  <video id="introVideo" autoplay muted playsinline width="1920" height="1080">
    Your browser does not support the video tag.
  </video>
  
  <video id="transitionVideo" playsinline width="1920" height="1080">
    Your browser does not support the video tag.
  </video>
</body>
</html>
